(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{230:function(t,e,n){},231:function(t,e,n){},239:function(t,e,n){t.exports=n.p+"img/f556bcd.png"},240:function(t,e,n){"use strict";var o=n(230);n.n(o).a},241:function(t,e,n){"use strict";var o=n(231);n.n(o).a},243:function(t,e,n){"use strict";n.r(e);n(9);var o=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],c=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],l={name:"Tinymce",props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:c,menubar:this.menubar,plugins:o,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",n.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()}}},r=(n(240),n(14)),m=Object(r.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}})])}),[],!1,null,"3f032278",null).exports,d=null;d=function(t){return document.querySelectorAll(t)[0]};var h={name:"TinymceDemo",components:{Tinymce:m},head:{script:[{src:"/tinymce4.7.5/tinymce.min.js"}]},data:function(){return{title:"",abstract:"",type:1,content:"",options:[{type:1,value:"Javascript"},{type:2,value:"CSS"},{type:3,value:"Node"},{type:4,value:"learning English"}],normal:"写到哪儿？",msg:"",openSimple:!1}},mounted:function(){d(".submitBtn").onmouseover=function(){}},methods:{submit:function(){var t=this,data={title:this.title,abstract:this.abstract,type:this.type,content:this.content};this.$axios.post("/jsnote/write",data).then((function(e){console.log(e),200==e.status&&t.openSimpleDialog()}))},openSimpleDialog:function(){this.openSimple=!0},closeSimpleDialog:function(){this.openSimple=!1},change:function(t){var e=this;console.log(t),this.options.forEach((function(n,o){n.value===t&&(e.type=n.type)}))}}},f=(n(241),Object(r.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"components-container"},[o("h4",[t._v("Hello  开发者！今天又有什么要分享的呢？")]),t._v(" "),o("mu-container",{staticClass:"titleContainer"},[o("mu-paper",{attrs:{"z-depth":2}},[o("mu-text-field",{staticClass:"divider-form",attrs:{placeholder:"标题  想说点什么？",solo:"","full-width":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),o("mu-divider"),t._v(" "),o("mu-text-field",{staticClass:"divider-form",attrs:{placeholder:"描述  你写或者不写我都在这里",solo:"","full-width":""},model:{value:t.abstract,callback:function(e){t.abstract=e},expression:"abstract"}})],1)],1),t._v(" "),o("mu-select",{attrs:{label:"写到哪儿？","full-width":""},on:{change:t.change},model:{value:t.normal,callback:function(e){t.normal=e},expression:"normal"}},t._l(t.options,(function(option,t){return o("mu-option",{key:t,attrs:{label:option.value,value:option.value}})})),1),t._v(" "),o("div",{staticClass:"rightEditor"},[o("tinymce",{attrs:{height:600,id:"write"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),o("div",{staticClass:"submit pointer"},[o("img",{staticClass:"pointer submitBtn",attrs:{src:n(239),alt:""},on:{click:t.submit}})]),t._v(" "),o("mu-dialog",{attrs:{title:"Dialog",width:"360",open:t.openSimple},on:{"update:open":function(e){t.openSimple=e}}},[t._v("\n    "+t._s(t.msg)+"\n    "),o("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:t.closeSimpleDialog},slot:"actions"},[t._v("Close")])],1)],1)}),[],!1,null,"1b55a582",null));e.default=f.exports}}]);